#+title: neolit framework
#+author: 1suo
#+date: [2025-12-01 Пн]

* PROGRESS Write templates for neolit programming
  [2025-12-01 Пн 22:08]
  
* Intro
  - Paragon of scaffolding for LLM-assisted web application development, injected into projects
  - Set of design patterns, decisions and templates for building web applications with coding agents. 
  - Focus on finding the right balance between isolated tasks and providing holistic context to LLMs. Where possible, guidelines and context are layered and linked dynamically to agent session across multiple files.
  - Inspired by literal programming principles and ADR (Architecture Decision Records) practices.
  - Org files are for planning, md files are for documentation.

* Structure
  #+BEGIN_SRC tree
  root
  |-- README.md              # Project overview to be read by humans
  |-- AGENTS.md              # Master prompt for coding agents, serving as entry point
  |-- SYSTEM.org               # Strategic planning and index for the project
  |-- docs
  |    |-- TODO.org            # Documentation-specific tasks and planning
  |    |-- architecture.md     # High-level architecture documentation
  |    |-- api.md              # API documentation
  |    |-- contributing.md     # Contribution guidelines
  |    |-- adr
  |         |-- 0001-node-id-immutability.md   # Architecture Decision Records
  |-- src
  |    |-- module
  |         |-- README.md    # Module-specific documentation
  |         |-- TODO.org     # Module-specific tasks and planning
  #+END_SRC

* SYSTEM.org Template
** Top-level headings: 
   - Top-level TODOs and milestones

* AGENTS.md Template
** Master prompt for coding agents (global, strategic):
  - Link to docs for context
  - General workflow for coding agents, good practices, anti-patterns
  - Bugfix Guidelines
  - Feature Implementation Guidelines
  - Code Review Guidelines
  - Testing Guidelines
  - Documentation Guidelines (documentation-first development)
** Sections that LLMs handle well:
   - Constraints (MUST) – invariants, forbidden changes, performance or safety requirements.
   - Preferences (SHOULD) – coding style, library choices, ergonomics - links to conventions in STYLE.md and other docs.
** Tone:
   - Declarative and imperative, low on narrative: “Use X”, “Do not change Y without updating ADR-003”.
   - Use modal verbs (MUST, SHOULD, MAY) consistently so the model can rank importance.

* Local prompts for coding agents (in src/module/README.md):
** Module-level README.md (strategic, architectural):
  - Module purpose and responsibilities
  - Key data structures and interfaces
  - Important constraints and preferences from AGENTS.md
  - Links to relevant ADRs and SYSTEM.org sections
  - Current Pain Points – what is broken or awkward now.
  - Examples – 1–3 short, real examples of “good” outcomes (not huge code dumps).

* Per-module TODO.org (tactical, feature-level):
** Top-level headings:
  - Bugfix tasks
  - Feature implementation tasks
** Agents change status of tasks here:
   - IN-PROGRESS -> WAITING and TODO -> WAITING: when complex task is finished but needs human review or testing (most common case)
   - TODO -> IN-PROGRESS: when starting work on a complex task
   - TODO -> DONE and IN-PROGRESS -> DONE: when task is obviously simple and complete
** Agents can add note under tasks:
   - Explanation of approach taken
   - Links to relevant code sections or ADRs
   - Questions for human reviewers

* docs
** Documentation topics:
  - Domain model (docs/architecture.md)
  - High-level architecture (docs/architecture.md)
  - API documentation (docs/api.md)
  - Data models and schemas (docs/architecture.md)
  - Contribution guidelines (docs/contributing.md)
  - ADRs (docs/adr/)
 
** ADRs (Architecture Decision Records):
   - Stored in docs/adr/
   - Numbered sequentially (0001, 0002, etc.)
   - Each ADR documents a single architectural decision
   - Includes context, decision, consequences, alternatives considered
*** DOs:
    - An ADR should log the resolution of at least one architecturally significant requirement
    - Split decisions into stages if no simple answer exists
*** DON'Ts:
    - Avoid documenting trivial decisions or those that do not impact architecture
    - Avoid vague language; be specific about the decision and its implications. Avoid terms like "optimize", "improve", or "enhance" without clear definitions. Avoid marketing language
    - Non-existing or misleading context information to create a false sense of urgency. For instance, a pseudo-problem might be called out that does not really exist
*** ADR Template (docs/adr/000X-descriptive-title.md):
    - Title: Short descriptive title
    - Status: Proposed | Accepted | Deprecated | Superseded
    - Context: Background and reasoning for the decision
    - Criteria: Requirements that influenced the decision
    - Decision: The decision made
    - Consequences: Implications of the decision, both positive and negative
    - Alternatives Considered: Other options that were considered and why they were not chosen (if any)
    - Related ADRs: Links to other relevant ADRs (if any)
    - Date: YYYY-MM-DD
    - Example: Code snippets or diagrams illustrating the decision (optional)
